\hypertarget{lwt__chan_8c}{\section{lwt\+\_\+chan.\+c File Reference}
\label{lwt__chan_8c}\index{lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}}
}
{\ttfamily \#include \char`\"{}lwt\+\_\+chan.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}lwt.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}lwt\+\_\+cgrp.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}lwt\+\_\+kthd.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}objects.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}stdio.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}stdlib.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}assert.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}faa.\+h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{lwt__chan_8c_af5679767595cee0306d3bc88478e7235}{\+\_\+\+\_\+insert\+\_\+sender\+\_\+to\+\_\+chan} (lwt\+\_\+chan\+\_\+t chan, lwt\+\_\+t \hyperlink{structlwt}{lwt})
\begin{DoxyCompactList}\small\item\em Inserts the sender into the channel. \end{DoxyCompactList}\item 
void \hyperlink{lwt__chan_8c_a175aefe193d335eed3c92ef044083252}{\+\_\+\+\_\+remove\+\_\+sender\+\_\+from\+\_\+chan} (lwt\+\_\+chan\+\_\+t chan, lwt\+\_\+t \hyperlink{structlwt}{lwt})
\begin{DoxyCompactList}\small\item\em Removes the sender from the channel. \end{DoxyCompactList}\item 
void \hyperlink{lwt__chan_8c_a787eaceb78f7e5a2ffec3fb95744d65c}{\+\_\+\+\_\+insert\+\_\+blocked\+\_\+sender\+\_\+to\+\_\+chan} (lwt\+\_\+chan\+\_\+t chan, lwt\+\_\+t \hyperlink{structlwt}{lwt})
\begin{DoxyCompactList}\small\item\em Inserts the sender onto the blocked queue. \end{DoxyCompactList}\item 
void \hyperlink{lwt__chan_8c_a4a86ff7c38afdfb5a886f0fdf6ab082e}{\+\_\+\+\_\+remove\+\_\+blocked\+\_\+sender\+\_\+from\+\_\+chan} (lwt\+\_\+chan\+\_\+t chan, lwt\+\_\+t \hyperlink{structlwt}{lwt})
\begin{DoxyCompactList}\small\item\em Removes the sender from the channel's blocked queue. \end{DoxyCompactList}\item 
void $\ast$ \hyperlink{lwt__chan_8c_a463cf8428bc2c050380e01b714e3662e}{\+\_\+\+\_\+pop\+\_\+data\+\_\+from\+\_\+async\+\_\+buffer} (lwt\+\_\+chan\+\_\+t c)
\begin{DoxyCompactList}\small\item\em Pops the data into the buffer. \end{DoxyCompactList}\item 
lwt\+\_\+chan\+\_\+t \hyperlink{lwt__chan_8c_accefa163ae797369e139b46be72f3d6c}{lwt\+\_\+chan} (int sz)
\begin{DoxyCompactList}\small\item\em Creates the channel on the receiving thread. \end{DoxyCompactList}\item 
int \hyperlink{lwt__chan_8c_ac22405d674622a470c679d38711e59b5}{lwt\+\_\+snd} (lwt\+\_\+chan\+\_\+t c, void $\ast$data)
\begin{DoxyCompactList}\small\item\em Sends the data over the channel to the receiver. \end{DoxyCompactList}\item 
int \hyperlink{lwt__chan_8c_aed8b4b6376d52e0356ee47c0de47ec8e}{lwt\+\_\+snd\+\_\+chan} (lwt\+\_\+chan\+\_\+t c, lwt\+\_\+chan\+\_\+t sending)
\begin{DoxyCompactList}\small\item\em Sends sending over the channel c. \end{DoxyCompactList}\item 
lwt\+\_\+chan\+\_\+t \hyperlink{lwt__chan_8c_ac8059163b49905cef2705fb0455133b8}{lwt\+\_\+rcv\+\_\+chan} (lwt\+\_\+chan\+\_\+t c)
\begin{DoxyCompactList}\small\item\em Receives the data over the channel. \end{DoxyCompactList}\item 
void \hyperlink{lwt__chan_8c_a39cae21665613361656a303ba52dd539}{lwt\+\_\+chan\+\_\+deref} (lwt\+\_\+chan\+\_\+t c)
\begin{DoxyCompactList}\small\item\em Deallocates the channel only if no threads still have references to the channel. \end{DoxyCompactList}\item 
void $\ast$ \hyperlink{lwt__chan_8c_a6480ceb4e2108f3cee290b265e044830}{lwt\+\_\+rcv} (lwt\+\_\+chan\+\_\+t c)
\begin{DoxyCompactList}\small\item\em Receives the data from the channel and returns it. \end{DoxyCompactList}\item 
lwt\+\_\+t \hyperlink{lwt__chan_8c_a6ace814f8854ff92e47ddba35311dc69}{lwt\+\_\+create\+\_\+chan} (\hyperlink{objects_8h_a093f62106d888d547207e375daf75678}{lwt\+\_\+chan\+\_\+fn\+\_\+t} fn, lwt\+\_\+chan\+\_\+t c, \hyperlink{enums_8h_a3e65a66932a8da34b1092c3a23d54c6f}{lwt\+\_\+flags\+\_\+t} flags)
\begin{DoxyCompactList}\small\item\em Creates a lwt with the channel as an arg. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{lwt__chan_8c_a787eaceb78f7e5a2ffec3fb95744d65c}{\index{lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}!\+\_\+\+\_\+insert\+\_\+blocked\+\_\+sender\+\_\+to\+\_\+chan@{\+\_\+\+\_\+insert\+\_\+blocked\+\_\+sender\+\_\+to\+\_\+chan}}
\index{\+\_\+\+\_\+insert\+\_\+blocked\+\_\+sender\+\_\+to\+\_\+chan@{\+\_\+\+\_\+insert\+\_\+blocked\+\_\+sender\+\_\+to\+\_\+chan}!lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}}
\subsubsection[{\+\_\+\+\_\+insert\+\_\+blocked\+\_\+sender\+\_\+to\+\_\+chan}]{\setlength{\rightskip}{0pt plus 5cm}void \+\_\+\+\_\+insert\+\_\+blocked\+\_\+sender\+\_\+to\+\_\+chan (
\begin{DoxyParamCaption}
\item[{lwt\+\_\+chan\+\_\+t}]{chan, }
\item[{lwt\+\_\+t}]{lwt}
\end{DoxyParamCaption}
)}}\label{lwt__chan_8c_a787eaceb78f7e5a2ffec3fb95744d65c}


Inserts the sender onto the blocked queue. 


\begin{DoxyParams}{Parameters}
{\em chan} & The channel owning the queue \\
\hline
{\em lwt} & The sender to add to the queue \\
\hline
\end{DoxyParams}
\hypertarget{lwt__chan_8c_af5679767595cee0306d3bc88478e7235}{\index{lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}!\+\_\+\+\_\+insert\+\_\+sender\+\_\+to\+\_\+chan@{\+\_\+\+\_\+insert\+\_\+sender\+\_\+to\+\_\+chan}}
\index{\+\_\+\+\_\+insert\+\_\+sender\+\_\+to\+\_\+chan@{\+\_\+\+\_\+insert\+\_\+sender\+\_\+to\+\_\+chan}!lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}}
\subsubsection[{\+\_\+\+\_\+insert\+\_\+sender\+\_\+to\+\_\+chan}]{\setlength{\rightskip}{0pt plus 5cm}void \+\_\+\+\_\+insert\+\_\+sender\+\_\+to\+\_\+chan (
\begin{DoxyParamCaption}
\item[{lwt\+\_\+chan\+\_\+t}]{chan, }
\item[{lwt\+\_\+t}]{lwt}
\end{DoxyParamCaption}
)}}\label{lwt__chan_8c_af5679767595cee0306d3bc88478e7235}


Inserts the sender into the channel. 


\begin{DoxyParams}{Parameters}
{\em chan} & The channel to insert the sender \\
\hline
{\em lwt} & The sender lwt \\
\hline
\end{DoxyParams}
\hypertarget{lwt__chan_8c_a463cf8428bc2c050380e01b714e3662e}{\index{lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}!\+\_\+\+\_\+pop\+\_\+data\+\_\+from\+\_\+async\+\_\+buffer@{\+\_\+\+\_\+pop\+\_\+data\+\_\+from\+\_\+async\+\_\+buffer}}
\index{\+\_\+\+\_\+pop\+\_\+data\+\_\+from\+\_\+async\+\_\+buffer@{\+\_\+\+\_\+pop\+\_\+data\+\_\+from\+\_\+async\+\_\+buffer}!lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}}
\subsubsection[{\+\_\+\+\_\+pop\+\_\+data\+\_\+from\+\_\+async\+\_\+buffer}]{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ \+\_\+\+\_\+pop\+\_\+data\+\_\+from\+\_\+async\+\_\+buffer (
\begin{DoxyParamCaption}
\item[{lwt\+\_\+chan\+\_\+t}]{c}
\end{DoxyParamCaption}
)}}\label{lwt__chan_8c_a463cf8428bc2c050380e01b714e3662e}


Pops the data into the buffer. 


\begin{DoxyParams}{Parameters}
{\em c} & The channel to remove the data from \\
\hline
{\em data} & The data to remove If the buffer is empty, it will block until there is something to read \\
\hline
\end{DoxyParams}
\hypertarget{lwt__chan_8c_a4a86ff7c38afdfb5a886f0fdf6ab082e}{\index{lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}!\+\_\+\+\_\+remove\+\_\+blocked\+\_\+sender\+\_\+from\+\_\+chan@{\+\_\+\+\_\+remove\+\_\+blocked\+\_\+sender\+\_\+from\+\_\+chan}}
\index{\+\_\+\+\_\+remove\+\_\+blocked\+\_\+sender\+\_\+from\+\_\+chan@{\+\_\+\+\_\+remove\+\_\+blocked\+\_\+sender\+\_\+from\+\_\+chan}!lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}}
\subsubsection[{\+\_\+\+\_\+remove\+\_\+blocked\+\_\+sender\+\_\+from\+\_\+chan}]{\setlength{\rightskip}{0pt plus 5cm}void \+\_\+\+\_\+remove\+\_\+blocked\+\_\+sender\+\_\+from\+\_\+chan (
\begin{DoxyParamCaption}
\item[{lwt\+\_\+chan\+\_\+t}]{chan, }
\item[{lwt\+\_\+t}]{lwt}
\end{DoxyParamCaption}
)}}\label{lwt__chan_8c_a4a86ff7c38afdfb5a886f0fdf6ab082e}


Removes the sender from the channel's blocked queue. 


\begin{DoxyParams}{Parameters}
{\em chan} & The channel owning the queue \\
\hline
{\em lwt} & The sender to remove from the queue \\
\hline
\end{DoxyParams}
\hypertarget{lwt__chan_8c_a175aefe193d335eed3c92ef044083252}{\index{lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}!\+\_\+\+\_\+remove\+\_\+sender\+\_\+from\+\_\+chan@{\+\_\+\+\_\+remove\+\_\+sender\+\_\+from\+\_\+chan}}
\index{\+\_\+\+\_\+remove\+\_\+sender\+\_\+from\+\_\+chan@{\+\_\+\+\_\+remove\+\_\+sender\+\_\+from\+\_\+chan}!lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}}
\subsubsection[{\+\_\+\+\_\+remove\+\_\+sender\+\_\+from\+\_\+chan}]{\setlength{\rightskip}{0pt plus 5cm}void \+\_\+\+\_\+remove\+\_\+sender\+\_\+from\+\_\+chan (
\begin{DoxyParamCaption}
\item[{lwt\+\_\+chan\+\_\+t}]{chan, }
\item[{lwt\+\_\+t}]{lwt}
\end{DoxyParamCaption}
)}}\label{lwt__chan_8c_a175aefe193d335eed3c92ef044083252}


Removes the sender from the channel. 


\begin{DoxyParams}{Parameters}
{\em chan} & The channel to remove the sender from \\
\hline
{\em lwt} & The sender to remove \\
\hline
\end{DoxyParams}
\hypertarget{lwt__chan_8c_accefa163ae797369e139b46be72f3d6c}{\index{lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}!lwt\+\_\+chan@{lwt\+\_\+chan}}
\index{lwt\+\_\+chan@{lwt\+\_\+chan}!lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}}
\subsubsection[{lwt\+\_\+chan}]{\setlength{\rightskip}{0pt plus 5cm}lwt\+\_\+chan\+\_\+t lwt\+\_\+chan (
\begin{DoxyParamCaption}
\item[{int}]{sz}
\end{DoxyParamCaption}
)}}\label{lwt__chan_8c_accefa163ae797369e139b46be72f3d6c}


Creates the channel on the receiving thread. 


\begin{DoxyParams}{Parameters}
{\em sz} & The size of the buffer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to the initialized channel 
\end{DoxyReturn}
\hypertarget{lwt__chan_8c_a39cae21665613361656a303ba52dd539}{\index{lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}!lwt\+\_\+chan\+\_\+deref@{lwt\+\_\+chan\+\_\+deref}}
\index{lwt\+\_\+chan\+\_\+deref@{lwt\+\_\+chan\+\_\+deref}!lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}}
\subsubsection[{lwt\+\_\+chan\+\_\+deref}]{\setlength{\rightskip}{0pt plus 5cm}void lwt\+\_\+chan\+\_\+deref (
\begin{DoxyParamCaption}
\item[{lwt\+\_\+chan\+\_\+t}]{c}
\end{DoxyParamCaption}
)}}\label{lwt__chan_8c_a39cae21665613361656a303ba52dd539}


Deallocates the channel only if no threads still have references to the channel. 


\begin{DoxyParams}{Parameters}
{\em c} & The channel to deallocate \\
\hline
\end{DoxyParams}
\hypertarget{lwt__chan_8c_a6ace814f8854ff92e47ddba35311dc69}{\index{lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}!lwt\+\_\+create\+\_\+chan@{lwt\+\_\+create\+\_\+chan}}
\index{lwt\+\_\+create\+\_\+chan@{lwt\+\_\+create\+\_\+chan}!lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}}
\subsubsection[{lwt\+\_\+create\+\_\+chan}]{\setlength{\rightskip}{0pt plus 5cm}lwt\+\_\+t lwt\+\_\+create\+\_\+chan (
\begin{DoxyParamCaption}
\item[{{\bf lwt\+\_\+chan\+\_\+fn\+\_\+t}}]{fn, }
\item[{lwt\+\_\+chan\+\_\+t}]{c, }
\item[{{\bf lwt\+\_\+flags\+\_\+t}}]{flags}
\end{DoxyParamCaption}
)}}\label{lwt__chan_8c_a6ace814f8854ff92e47ddba35311dc69}


Creates a lwt with the channel as an arg. 


\begin{DoxyParams}{Parameters}
{\em fn} & The function to use to create the thread \\
\hline
{\em c} & The channel to send \\
\hline
{\em flags} & The flags for the thread \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The thread to return 
\end{DoxyReturn}
\hypertarget{lwt__chan_8c_a6480ceb4e2108f3cee290b265e044830}{\index{lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}!lwt\+\_\+rcv@{lwt\+\_\+rcv}}
\index{lwt\+\_\+rcv@{lwt\+\_\+rcv}!lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}}
\subsubsection[{lwt\+\_\+rcv}]{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ lwt\+\_\+rcv (
\begin{DoxyParamCaption}
\item[{lwt\+\_\+chan\+\_\+t}]{c}
\end{DoxyParamCaption}
)}}\label{lwt__chan_8c_a6480ceb4e2108f3cee290b265e044830}


Receives the data from the channel and returns it. 


\begin{DoxyParams}{Parameters}
{\em c} & The channel to receive from \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The data from the channel 
\end{DoxyReturn}
\hypertarget{lwt__chan_8c_ac8059163b49905cef2705fb0455133b8}{\index{lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}!lwt\+\_\+rcv\+\_\+chan@{lwt\+\_\+rcv\+\_\+chan}}
\index{lwt\+\_\+rcv\+\_\+chan@{lwt\+\_\+rcv\+\_\+chan}!lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}}
\subsubsection[{lwt\+\_\+rcv\+\_\+chan}]{\setlength{\rightskip}{0pt plus 5cm}lwt\+\_\+chan\+\_\+t lwt\+\_\+rcv\+\_\+chan (
\begin{DoxyParamCaption}
\item[{lwt\+\_\+chan\+\_\+t}]{c}
\end{DoxyParamCaption}
)}}\label{lwt__chan_8c_ac8059163b49905cef2705fb0455133b8}


Receives the data over the channel. 


\begin{DoxyParams}{Parameters}
{\em c} & The channel to use for receiving \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The channel being sent over c 
\end{DoxyReturn}
\hypertarget{lwt__chan_8c_ac22405d674622a470c679d38711e59b5}{\index{lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}!lwt\+\_\+snd@{lwt\+\_\+snd}}
\index{lwt\+\_\+snd@{lwt\+\_\+snd}!lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}}
\subsubsection[{lwt\+\_\+snd}]{\setlength{\rightskip}{0pt plus 5cm}int lwt\+\_\+snd (
\begin{DoxyParamCaption}
\item[{lwt\+\_\+chan\+\_\+t}]{c, }
\item[{void $\ast$}]{data}
\end{DoxyParamCaption}
)}}\label{lwt__chan_8c_ac22405d674622a470c679d38711e59b5}


Sends the data over the channel to the receiver. 


\begin{DoxyParams}{Parameters}
{\em c} & The channel to use for sending \\
\hline
{\em data} & The data for sending \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/1 if there is no receiver; 0 if successful 
\end{DoxyReturn}
\hypertarget{lwt__chan_8c_aed8b4b6376d52e0356ee47c0de47ec8e}{\index{lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}!lwt\+\_\+snd\+\_\+chan@{lwt\+\_\+snd\+\_\+chan}}
\index{lwt\+\_\+snd\+\_\+chan@{lwt\+\_\+snd\+\_\+chan}!lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}}
\subsubsection[{lwt\+\_\+snd\+\_\+chan}]{\setlength{\rightskip}{0pt plus 5cm}int lwt\+\_\+snd\+\_\+chan (
\begin{DoxyParamCaption}
\item[{lwt\+\_\+chan\+\_\+t}]{c, }
\item[{lwt\+\_\+chan\+\_\+t}]{sending}
\end{DoxyParamCaption}
)}}\label{lwt__chan_8c_aed8b4b6376d52e0356ee47c0de47ec8e}


Sends sending over the channel c. 


\begin{DoxyParams}{Parameters}
{\em c} & The channel to send sending across \\
\hline
{\em sending} & The channel to send \\
\hline
\end{DoxyParams}
