\hypertarget{lwt__chan_8c}{\section{lwt\+\_\+chan.\+c File Reference}
\label{lwt__chan_8c}\index{lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}}
}
{\ttfamily \#include \char`\"{}lwt\+\_\+chan.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}lwt.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}lwt\+\_\+cgrp.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}stdio.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}stdlib.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}assert.\+h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{lwt__chan_8c_a94cf0cb3d85e42ba2e21bf27ec313964}{\+\_\+\+\_\+remove\+\_\+channel} (lwt\+\_\+chan\+\_\+t channel)
\begin{DoxyCompactList}\small\item\em Remove the channel from the list of channels. \end{DoxyCompactList}\item 
void \hyperlink{lwt__chan_8c_a1fa54d92b946df06c38207bdf305532b}{\+\_\+\+\_\+remove\+\_\+from\+\_\+blocked\+\_\+sender} (lwt\+\_\+chan\+\_\+t c, lwt\+\_\+t thread)
\begin{DoxyCompactList}\small\item\em Removes the thread from the list of blocked sender threads. \end{DoxyCompactList}\item 
void $\ast$ \hyperlink{lwt__chan_8c_a463cf8428bc2c050380e01b714e3662e}{\+\_\+\+\_\+pop\+\_\+data\+\_\+from\+\_\+async\+\_\+buffer} (lwt\+\_\+chan\+\_\+t c)
\begin{DoxyCompactList}\small\item\em Pops the data into the buffer. \end{DoxyCompactList}\item 
lwt\+\_\+chan\+\_\+t \hyperlink{lwt__chan_8c_accefa163ae797369e139b46be72f3d6c}{lwt\+\_\+chan} (int sz)
\begin{DoxyCompactList}\small\item\em Creates the channel on the receiving thread. \end{DoxyCompactList}\item 
int \hyperlink{lwt__chan_8c_ac22405d674622a470c679d38711e59b5}{lwt\+\_\+snd} (lwt\+\_\+chan\+\_\+t c, void $\ast$data)
\begin{DoxyCompactList}\small\item\em Sends the data over the channel to the receiver. \end{DoxyCompactList}\item 
int \hyperlink{lwt__chan_8c_aed8b4b6376d52e0356ee47c0de47ec8e}{lwt\+\_\+snd\+\_\+chan} (lwt\+\_\+chan\+\_\+t c, lwt\+\_\+chan\+\_\+t sending)
\begin{DoxyCompactList}\small\item\em Sends sending over the channel c. \end{DoxyCompactList}\item 
lwt\+\_\+chan\+\_\+t \hyperlink{lwt__chan_8c_ac8059163b49905cef2705fb0455133b8}{lwt\+\_\+rcv\+\_\+chan} (lwt\+\_\+chan\+\_\+t c)
\begin{DoxyCompactList}\small\item\em Receives the data over the channel. \end{DoxyCompactList}\item 
void \hyperlink{lwt__chan_8c_a39cae21665613361656a303ba52dd539}{lwt\+\_\+chan\+\_\+deref} (lwt\+\_\+chan\+\_\+t c)
\begin{DoxyCompactList}\small\item\em Deallocates the channel only if no threads still have references to the channel. \end{DoxyCompactList}\item 
void $\ast$ \hyperlink{lwt__chan_8c_a6480ceb4e2108f3cee290b265e044830}{lwt\+\_\+rcv} (lwt\+\_\+chan\+\_\+t c)
\begin{DoxyCompactList}\small\item\em Receives the data from the channel and returns it. \end{DoxyCompactList}\item 
lwt\+\_\+t \hyperlink{lwt__chan_8c_a6ace814f8854ff92e47ddba35311dc69}{lwt\+\_\+create\+\_\+chan} (\hyperlink{lwt__chan_8h_a093f62106d888d547207e375daf75678}{lwt\+\_\+chan\+\_\+fn\+\_\+t} fn, lwt\+\_\+chan\+\_\+t c, \hyperlink{lwt_8h_a3e65a66932a8da34b1092c3a23d54c6f}{lwt\+\_\+flags\+\_\+t} flags)
\begin{DoxyCompactList}\small\item\em Creates a lwt with the channel as an arg. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{lwt__chan_8c_a463cf8428bc2c050380e01b714e3662e}{\index{lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}!\+\_\+\+\_\+pop\+\_\+data\+\_\+from\+\_\+async\+\_\+buffer@{\+\_\+\+\_\+pop\+\_\+data\+\_\+from\+\_\+async\+\_\+buffer}}
\index{\+\_\+\+\_\+pop\+\_\+data\+\_\+from\+\_\+async\+\_\+buffer@{\+\_\+\+\_\+pop\+\_\+data\+\_\+from\+\_\+async\+\_\+buffer}!lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}}
\subsubsection[{\+\_\+\+\_\+pop\+\_\+data\+\_\+from\+\_\+async\+\_\+buffer}]{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ \+\_\+\+\_\+pop\+\_\+data\+\_\+from\+\_\+async\+\_\+buffer (
\begin{DoxyParamCaption}
\item[{lwt\+\_\+chan\+\_\+t}]{c}
\end{DoxyParamCaption}
)}}\label{lwt__chan_8c_a463cf8428bc2c050380e01b714e3662e}


Pops the data into the buffer. 


\begin{DoxyParams}{Parameters}
{\em c} & The channel to remove the data from \\
\hline
{\em data} & The data to remove If the buffer is empty, it will block until there is something to read \\
\hline
\end{DoxyParams}
\hypertarget{lwt__chan_8c_a94cf0cb3d85e42ba2e21bf27ec313964}{\index{lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}!\+\_\+\+\_\+remove\+\_\+channel@{\+\_\+\+\_\+remove\+\_\+channel}}
\index{\+\_\+\+\_\+remove\+\_\+channel@{\+\_\+\+\_\+remove\+\_\+channel}!lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}}
\subsubsection[{\+\_\+\+\_\+remove\+\_\+channel}]{\setlength{\rightskip}{0pt plus 5cm}void \+\_\+\+\_\+remove\+\_\+channel (
\begin{DoxyParamCaption}
\item[{lwt\+\_\+chan\+\_\+t}]{channel}
\end{DoxyParamCaption}
)}}\label{lwt__chan_8c_a94cf0cb3d85e42ba2e21bf27ec313964}


Remove the channel from the list of channels. 


\begin{DoxyParams}{Parameters}
{\em channel} & The channel to be removed \\
\hline
\end{DoxyParams}
\hypertarget{lwt__chan_8c_a1fa54d92b946df06c38207bdf305532b}{\index{lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}!\+\_\+\+\_\+remove\+\_\+from\+\_\+blocked\+\_\+sender@{\+\_\+\+\_\+remove\+\_\+from\+\_\+blocked\+\_\+sender}}
\index{\+\_\+\+\_\+remove\+\_\+from\+\_\+blocked\+\_\+sender@{\+\_\+\+\_\+remove\+\_\+from\+\_\+blocked\+\_\+sender}!lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}}
\subsubsection[{\+\_\+\+\_\+remove\+\_\+from\+\_\+blocked\+\_\+sender}]{\setlength{\rightskip}{0pt plus 5cm}void \+\_\+\+\_\+remove\+\_\+from\+\_\+blocked\+\_\+sender (
\begin{DoxyParamCaption}
\item[{lwt\+\_\+chan\+\_\+t}]{c, }
\item[{lwt\+\_\+t}]{thread}
\end{DoxyParamCaption}
)}}\label{lwt__chan_8c_a1fa54d92b946df06c38207bdf305532b}


Removes the thread from the list of blocked sender threads. 


\begin{DoxyParams}{Parameters}
{\em channel} & The channel from which the sender will be removed \\
\hline
{\em thread} & The thread to be removed \\
\hline
\end{DoxyParams}
\hypertarget{lwt__chan_8c_accefa163ae797369e139b46be72f3d6c}{\index{lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}!lwt\+\_\+chan@{lwt\+\_\+chan}}
\index{lwt\+\_\+chan@{lwt\+\_\+chan}!lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}}
\subsubsection[{lwt\+\_\+chan}]{\setlength{\rightskip}{0pt plus 5cm}lwt\+\_\+chan\+\_\+t lwt\+\_\+chan (
\begin{DoxyParamCaption}
\item[{int}]{sz}
\end{DoxyParamCaption}
)}}\label{lwt__chan_8c_accefa163ae797369e139b46be72f3d6c}


Creates the channel on the receiving thread. 


\begin{DoxyParams}{Parameters}
{\em sz} & The size of the buffer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to the initialized channel 
\end{DoxyReturn}
\hypertarget{lwt__chan_8c_a39cae21665613361656a303ba52dd539}{\index{lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}!lwt\+\_\+chan\+\_\+deref@{lwt\+\_\+chan\+\_\+deref}}
\index{lwt\+\_\+chan\+\_\+deref@{lwt\+\_\+chan\+\_\+deref}!lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}}
\subsubsection[{lwt\+\_\+chan\+\_\+deref}]{\setlength{\rightskip}{0pt plus 5cm}void lwt\+\_\+chan\+\_\+deref (
\begin{DoxyParamCaption}
\item[{lwt\+\_\+chan\+\_\+t}]{c}
\end{DoxyParamCaption}
)}}\label{lwt__chan_8c_a39cae21665613361656a303ba52dd539}


Deallocates the channel only if no threads still have references to the channel. 


\begin{DoxyParams}{Parameters}
{\em c} & The channel to deallocate \\
\hline
\end{DoxyParams}
\hypertarget{lwt__chan_8c_a6ace814f8854ff92e47ddba35311dc69}{\index{lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}!lwt\+\_\+create\+\_\+chan@{lwt\+\_\+create\+\_\+chan}}
\index{lwt\+\_\+create\+\_\+chan@{lwt\+\_\+create\+\_\+chan}!lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}}
\subsubsection[{lwt\+\_\+create\+\_\+chan}]{\setlength{\rightskip}{0pt plus 5cm}lwt\+\_\+t lwt\+\_\+create\+\_\+chan (
\begin{DoxyParamCaption}
\item[{{\bf lwt\+\_\+chan\+\_\+fn\+\_\+t}}]{fn, }
\item[{lwt\+\_\+chan\+\_\+t}]{c, }
\item[{{\bf lwt\+\_\+flags\+\_\+t}}]{flags}
\end{DoxyParamCaption}
)}}\label{lwt__chan_8c_a6ace814f8854ff92e47ddba35311dc69}


Creates a lwt with the channel as an arg. 


\begin{DoxyParams}{Parameters}
{\em fn} & The function to use to create the thread \\
\hline
{\em c} & The channel to send \\
\hline
{\em flags} & The flags for the thread \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The thread to return 
\end{DoxyReturn}
\hypertarget{lwt__chan_8c_a6480ceb4e2108f3cee290b265e044830}{\index{lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}!lwt\+\_\+rcv@{lwt\+\_\+rcv}}
\index{lwt\+\_\+rcv@{lwt\+\_\+rcv}!lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}}
\subsubsection[{lwt\+\_\+rcv}]{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ lwt\+\_\+rcv (
\begin{DoxyParamCaption}
\item[{lwt\+\_\+chan\+\_\+t}]{c}
\end{DoxyParamCaption}
)}}\label{lwt__chan_8c_a6480ceb4e2108f3cee290b265e044830}


Receives the data from the channel and returns it. 


\begin{DoxyParams}{Parameters}
{\em c} & The channel to receive from \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The data from the channel 
\end{DoxyReturn}
\hypertarget{lwt__chan_8c_ac8059163b49905cef2705fb0455133b8}{\index{lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}!lwt\+\_\+rcv\+\_\+chan@{lwt\+\_\+rcv\+\_\+chan}}
\index{lwt\+\_\+rcv\+\_\+chan@{lwt\+\_\+rcv\+\_\+chan}!lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}}
\subsubsection[{lwt\+\_\+rcv\+\_\+chan}]{\setlength{\rightskip}{0pt plus 5cm}lwt\+\_\+chan\+\_\+t lwt\+\_\+rcv\+\_\+chan (
\begin{DoxyParamCaption}
\item[{lwt\+\_\+chan\+\_\+t}]{c}
\end{DoxyParamCaption}
)}}\label{lwt__chan_8c_ac8059163b49905cef2705fb0455133b8}


Receives the data over the channel. 


\begin{DoxyParams}{Parameters}
{\em c} & The channel to use for receiving \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The channel being sent over c 
\end{DoxyReturn}
\hypertarget{lwt__chan_8c_ac22405d674622a470c679d38711e59b5}{\index{lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}!lwt\+\_\+snd@{lwt\+\_\+snd}}
\index{lwt\+\_\+snd@{lwt\+\_\+snd}!lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}}
\subsubsection[{lwt\+\_\+snd}]{\setlength{\rightskip}{0pt plus 5cm}int lwt\+\_\+snd (
\begin{DoxyParamCaption}
\item[{lwt\+\_\+chan\+\_\+t}]{c, }
\item[{void $\ast$}]{data}
\end{DoxyParamCaption}
)}}\label{lwt__chan_8c_ac22405d674622a470c679d38711e59b5}


Sends the data over the channel to the receiver. 


\begin{DoxyParams}{Parameters}
{\em c} & The channel to use for sending \\
\hline
{\em data} & The data for sending \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/1 if there is no receiver; 0 if successful 
\end{DoxyReturn}
\hypertarget{lwt__chan_8c_aed8b4b6376d52e0356ee47c0de47ec8e}{\index{lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}!lwt\+\_\+snd\+\_\+chan@{lwt\+\_\+snd\+\_\+chan}}
\index{lwt\+\_\+snd\+\_\+chan@{lwt\+\_\+snd\+\_\+chan}!lwt\+\_\+chan.\+c@{lwt\+\_\+chan.\+c}}
\subsubsection[{lwt\+\_\+snd\+\_\+chan}]{\setlength{\rightskip}{0pt plus 5cm}int lwt\+\_\+snd\+\_\+chan (
\begin{DoxyParamCaption}
\item[{lwt\+\_\+chan\+\_\+t}]{c, }
\item[{lwt\+\_\+chan\+\_\+t}]{sending}
\end{DoxyParamCaption}
)}}\label{lwt__chan_8c_aed8b4b6376d52e0356ee47c0de47ec8e}


Sends sending over the channel c. 


\begin{DoxyParams}{Parameters}
{\em c} & The channel to send sending across \\
\hline
{\em sending} & The channel to send \\
\hline
\end{DoxyParams}
